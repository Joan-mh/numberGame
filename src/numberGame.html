<!DOCTYPE html>
<title>Number Guessing Game</title>

<p id="output">I'm thinking of a number between 0 and 99.</p>
<input id="input" type="text" placeholder="Guess a number" autofocus>
<button>guess</button>

<script type="text/javascript">

//Game variables
 var mysteryNumber = 50;
 var playerGuess = 0;
 var guessesRemaining = 10;
 var guessesMade = 0;
 var gameState = "";
 var gameWon = false;

 //The input and output fields
 var input = document.querySelector("#input");
 var output = document.querySelector("#output");

 //The button
 var button = document.querySelector("button");
 button.style.cursor = "pointer";
 button.addEventListener("click", clickHandler, false);
 window.addEventListener("keydown", keydownHandler, false);

function clickHandler(){
   validateInput();
}

function keydownHandler(event){
    if (event.keyCode === 13) validateInput();
}

function validateInput()
{
    if(isNaN(input.value)) output.innerHTML = "Please enter a number.";
    else playGame();
}

function playGame(){
    
    guessesRemaining = guessesRemaining - 1; //guessesRemaing--;
    guessesMade = guessesMade + 1; // guessesMade++;
    gameState = "Guess: " + guessesMade + ", Remaining: " + guessesRemaining;
    
    playerGuess = parseInt(input.value);
    
    if(playerGuess > mysteryNumber){
        output.innerHTML = "That's too high" + gameState;

        if (guessesRemaining < 1) endGame();
    }
    else if (playerGuess < mysteryNumber     )
    {
        output.innerHTML = "That's too low" + gameState;

        if (guessesRemaining < 1) endGame();

    }
    else if (playerGuess === mysteryNumber)
    {
        gameWon = true;
        endGame();
    }
}

function endGame(){
    if (gameWon){
        output.innerHTML = "Yes, it's " + mysteryNumber + "!" + "<br>"
        + "It only took you " + guessesMade + " guesses.";
    }
    else
    {
        output.innerHTML = "No more guesses left!" + "<br>"
        + "The number was: " + mysteryNumber + ".";
    }

    button.removeEventListener("click", clickHandler, false);
    button.disabled;

    window.removeEventListener("keydown", keydownHandler, false);

    input.disabled = true;
}
</script>
